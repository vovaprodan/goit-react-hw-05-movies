{"version":3,"file":"static/js/7.05a0f5a3.chunk.js","mappings":"2MAqEA,UA/De,WAEX,IAAAA,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACxBI,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAC9BG,EAAeF,EAAaG,IAAI,UAChCC,GAAWC,EAAAA,EAAAA,MACjBC,GAA0Bd,EAAAA,EAAAA,UAAS,MAAKe,GAAAb,EAAAA,EAAAA,GAAAY,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACpBG,GAA8BlB,EAAAA,EAAAA,WAAS,GAAMmB,GAAAjB,EAAAA,EAAAA,GAAAgB,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,IAG1BG,EAAAA,EAAAA,YAAU,WACAZ,IACNa,EAAAA,EAAAA,IAAeb,GAAcc,MAAK,SAAAC,GAC9BrB,EAASqB,EAAKC,QAEtB,IAAGC,OAAM,SAAAX,GAAK,OAAIC,EAASD,EAAMY,QAAQ,IACtCC,SAAQ,kBAAMR,GAAW,EAAM,GACjC,GAAG,CAACX,IAUP,OAAOoB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACFhB,IAASiB,EAAAA,EAAAA,KAAA,MAAAD,SAAKhB,KACbc,EAAAA,EAAAA,MAAA,QAAMI,SAVY,SAAAC,GACtBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACNC,EAAcJ,EAAEG,cAAcE,KAAKC,MACzChC,EAAgB,CAACiC,OAAQH,IACvBF,EAAKM,OACZ,EAImCX,SAAA,EACjCC,EAAAA,EAAAA,KAAA,SACEW,KAAK,OACDJ,KAAK,OACLK,aAA0B,OAAZnC,QAAY,IAAZA,EAAAA,EAAgB,GAClCoC,aAAa,MACbC,WAAS,EACLC,YAAY,mBAEVf,EAAAA,EAAAA,KAAA,UAAQW,KAAK,SAAQZ,UAC3BC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,gBAGPZ,IAAWa,EAAAA,EAAAA,KAAA,OAAAD,UAAKC,EAAAA,EAAAA,KAACgB,EAAAA,GAAY,CAC1BC,OAAQ,IACRC,MAAO,IACPC,OAAQ,EACRC,MAAM,UACNC,UAAU,wBACVC,aAAc,CAAC,EACfC,aAAa,GACbC,SAAS,OAETxB,EAAAA,EAAAA,KAAA,MAAAD,SACK7B,EAAMuD,KAAI,SAAAC,GAAW,IAADC,EACjB,OAAO3B,EAAAA,EAAAA,KAAA,MAAAD,UACHC,EAAAA,EAAAA,KAAC4B,EAAAA,GAAI,CAACC,MAAO,CAACC,KAAMnD,GAAYoD,GAAE,GAAAC,OAAKN,EAAOO,IAAKlC,SAAc,QAAd4B,EAAED,EAAOQ,aAAK,IAAAP,EAAAA,EAAID,EAAOnB,QADhEmB,EAAOO,GAG5B,QAKX,C,uJCpEA,IAAME,EAAS,mCAETC,EAAiB,WACnB,OAAOC,MAAM,yDAADL,OAA0DG,IACjE5C,MAAK,SAAA+C,GAAS,GAAIA,EAAIC,GAAM,OAAOD,EAAIE,MAAS,GACzD,EAEMlD,EAAiB,SAACmD,GACpB,OAAOJ,MAAM,qDAADL,OAAsDG,EAAM,WAAAH,OAAUS,IAC7ElD,MAAK,SAAA+C,GAAS,GAAIA,EAAIC,GAAM,OAAOD,EAAIE,MAAS,GACzD,EACME,EAAkB,SAACT,GACrB,OAAOI,MAAM,sCAADL,OAAuCC,EAAE,aAAAD,OAAYG,IAC5D5C,MAAK,SAAA+C,GAAS,GAAIA,EAAIC,GAAM,OAAOD,EAAIE,MAAS,GACzD,EAKMG,EAAkB,SAACV,GACrB,OAAOI,MAAM,sCAADL,OAAuCC,EAAE,qBAAAD,OAAoBG,IACpE5C,MAAK,SAAA+C,GAAS,GAAIA,EAAIC,GAAM,OAAOD,EAAIE,MAAS,GACzD,EACMI,EAAkB,SAACX,GACrB,OAAOI,MAAM,sCAADL,OAAuCC,EAAE,qBAAAD,OAAoBG,IACpE5C,MAAK,SAAA+C,GAAS,GAAIA,EAAIC,GAAM,OAAOD,EAAIE,MAAS,GACzD,C","sources":["components/pages/Movies.jsx","servise/movies.api.js"],"sourcesContent":["import { fetchSearchApi } from '../../servise/movies.api';\nimport { useState, useEffect } from \"react\";\nimport { BallTriangle } from 'react-loader-spinner';\nimport { Link, useSearchParams, useLocation } from \"react-router-dom\";\n\n\nconst Movies = () => {\n    // const [query, setQuery] = useState('');\n    const [films, setFilms] = useState([]);\n  const [SearchParams, setSearchParams] = useSearchParams();\n  const searchString = SearchParams.get('search');\n  const location = useLocation();\n  const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n \n    \n    useEffect(() => {\n          if(!searchString) {return}\n        fetchSearchApi(searchString).then(resp => {\n            setFilms(resp.results)\n\n    }).catch(error => setError(error.message))\n      .finally(() => setLoading(false))\n     }, [searchString]);\n    \n     const onSubmitForm = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n       const searchValue = e.currentTarget.name.value;\n       setSearchParams({search :searchValue })\n         form.reset();\n  }\n\n  return <>\n      {error && <h1>{error}</h1>}\n        <form onSubmit={onSubmitForm} >\n    <input\n      type=\"text\"\n          name=\"name\"\n          defaultValue={searchString ?? ''}\n      autoComplete=\"off\"\n      autoFocus\n          placeholder=\"Search movies\"\n            />\n            <button type=\"submit\" >\n      <span>Search</span>\n    </button>\n    </form>\n    {loading && <div><BallTriangle\n        height={100}\n        width={100}\n        radius={5}\n        color=\"#4fa94d\"\n        ariaLabel=\"ball-triangle-loading\"\n        wrapperClass={{}}\n        wrapperStyle=\"\"\n        visible={true}\n          /></div>}\n        <ul>\n            {films.map(movies => {\n                return <li key={movies.id}>\n                    <Link state={{from: location }} to={`${movies.id}`}>{movies.title ?? movies.name}</Link>\n                    </li>\n           })\n\n           }\n    </ul>\n    </>\n}\nexport default Movies;","const keyApi = 'bd090e5d17933448065d52d55259f1d4';\n\nconst fetchMoviesApi = () => {\n    return fetch(`https://api.themoviedb.org/3/trending/all/day?api_key=${keyApi}`)\n        .then(res => { if (res.ok) { return res.json() } })\n}\n\nconst fetchSearchApi = (query) => {\n    return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${keyApi}&query=${query}`)\n        .then(res => { if (res.ok) { return res.json() } })\n}\nconst fetchDetailsApi = (id) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${keyApi}`)\n        .then(res => { if (res.ok) { return res.json() } })\n}\nconst fetchImgApi = (id) => {\n    return fetch(`https://api.themoviedb.org/3/configuration?api_key=${keyApi}`)\n        .then(res => { if (res.ok) { return res.json() } })\n}\nconst fetchCreditsApi = (id) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${keyApi}`)\n        .then(res => { if (res.ok) { return res.json() } })\n}\nconst fetchReviewsApi = (id) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${keyApi}`)\n        .then(res => { if (res.ok) { return res.json() } })\n}\n\nexport {fetchMoviesApi, fetchSearchApi, fetchDetailsApi, fetchImgApi, fetchCreditsApi, fetchReviewsApi } ;"],"names":["_useState","useState","_useState2","_slicedToArray","films","setFilms","_useSearchParams","useSearchParams","_useSearchParams2","SearchParams","setSearchParams","searchString","get","location","useLocation","_useState3","_useState4","error","setError","_useState5","_useState6","loading","setLoading","useEffect","fetchSearchApi","then","resp","results","catch","message","finally","_jsxs","_Fragment","children","_jsx","onSubmit","e","preventDefault","form","currentTarget","searchValue","name","value","search","reset","type","defaultValue","autoComplete","autoFocus","placeholder","BallTriangle","height","width","radius","color","ariaLabel","wrapperClass","wrapperStyle","visible","map","movies","_movies$title","Link","state","from","to","concat","id","title","keyApi","fetchMoviesApi","fetch","res","ok","json","query","fetchDetailsApi","fetchCreditsApi","fetchReviewsApi"],"sourceRoot":""}